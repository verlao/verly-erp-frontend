import{T as F,G as r,F as h,_ as l,L as s,W as w,Q as B,j as c,a as i,k as G}from"./index-D6gXMe8l.js";import{s as M}from"./_plugin-vue_export-helper-DlAUqK2U-lGy7RumW.js";const R={class:"editable-cell"},S={key:0},T={key:1},C={key:2},L=F({__name:"EditableCell",props:{cost:{},field:{},isMoney:{type:Boolean,default:!1},isPercent:{type:Boolean,default:!1}},emits:["update"],setup(v,{emit:f}){const o=v,y=f,t=r(!1),u=r(""),n=r(),a=h(()=>o.cost[o.field]??0),m=e=>e.toFixed(2).replace(".",","),b=async()=>{t.value=!0,u.value=String(a.value),await G(),n.value?.focus(),n.value?.select()},g=()=>{t.value&&p()},k=()=>{p()},_=()=>{t.value=!1,u.value=String(a.value)},p=()=>{const e=parseFloat(u.value)||0;e!==a.value&&y("update",o.field,e),t.value=!1};return(e,d)=>(s(),l("div",R,[t.value?w((s(),l("input",{key:1,ref_key:"inputRef",ref:n,"onUpdate:modelValue":d[0]||(d[0]=x=>u.value=x),type:"number",step:"0.01",min:"0",class:"w-full px-2 py-1 border border-input bg-background text-foreground rounded focus:outline-none focus:ring-2 focus:ring-ring text-sm",onBlur:g,onKeydown:[c(k,["enter"]),c(_,["escape"])]},null,544)),[[B,u.value]]):(s(),l("div",{key:0,onClick:b,class:"cursor-pointer hover:bg-muted/50 px-2 py-1 rounded"},[e.isMoney?(s(),l("span",S,"R$ "+i(m(a.value)),1)):e.isPercent?(s(),l("span",T,i(a.value)+"%",1)):(s(),l("span",C,i(a.value),1))]))]))}}),W=M(L,[["__scopeId","data-v-b3a5d4a7"]]);export{W as T};
