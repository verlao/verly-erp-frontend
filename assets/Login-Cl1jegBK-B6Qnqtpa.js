import{T as p,t as x,n as v,V as y,G as l,z as h,_ as a,L as t,f as e,Z as w,u as k,E as n,a as V,W as f,Q as m}from"./index-D6gXMe8l.js";const q={class:"min-h-screen flex items-center justify-center bg-background"},E={class:"max-w-md w-full p-6 bg-card rounded-lg shadow-md border border-border"},U={key:0,class:"p-4 mb-4 text-sm text-destructive-foreground bg-destructive/10 border border-destructive/20 rounded-lg"},_=["disabled"],G={key:0},L={key:1},C=p({__name:"Login",setup(P){const b=x(),i=v(),o=y(),d=l(""),s=l(""),c=l("/dashboard");h(()=>{i.query.redirect&&(c.value=i.query.redirect,!o.token&&!o.error&&(o.error="Por favor, faça login para acessar o sistema"))});const g=async()=>{o.error=null,await o.login(d.value,s.value)?b.push(c.value):s.value=""};return(j,r)=>(t(),a("div",q,[e("div",E,[r[4]||(r[4]=e("div",{class:"text-center mb-8"},[e("h1",{class:"text-3xl font-bold text-foreground"},"Verly ERP"),e("p",{class:"text-muted-foreground mt-2"},"Faça login para acessar o sistema")],-1)),e("form",{onSubmit:w(g,["prevent"]),class:"space-y-6"},[n(o).error?(t(),a("div",U,V(n(o).error),1)):k("",!0),e("div",null,[r[2]||(r[2]=e("label",{for:"username",class:"block text-sm font-medium text-foreground"},"Usuário",-1)),f(e("input",{id:"username","onUpdate:modelValue":r[0]||(r[0]=u=>d.value=u),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-input bg-background text-foreground rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-ring focus:border-ring"},null,512),[[m,d.value]])]),e("div",null,[r[3]||(r[3]=e("label",{for:"password",class:"block text-sm font-medium text-foreground"},"Senha",-1)),f(e("input",{id:"password","onUpdate:modelValue":r[1]||(r[1]=u=>s.value=u),type:"password",required:"",class:"mt-1 block w-full px-3 py-2 border border-input bg-background text-foreground rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-ring focus:border-ring"},null,512),[[m,s.value]])]),e("div",null,[e("button",{type:"submit",class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-primary-foreground bg-primary hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ring disabled:opacity-50 disabled:cursor-not-allowed",disabled:n(o).loading},[n(o).loading?(t(),a("span",G,"Carregando...")):(t(),a("span",L,"Entrar"))],8,_)])],32)])]))}});export{C as default};
