import{d as v,u as x,r as i,o as y,a as w,c as t,b as n,e,w as h,f as k,g as d,t as _,h as f,v as m,i as S}from"./index-CBVtFMj7.js";const V={class:"min-h-screen flex items-center justify-center bg-background"},q={class:"max-w-md w-full p-6 bg-card rounded-lg shadow-md border border-border"},B={key:0,class:"p-4 mb-4 text-sm text-destructive-foreground bg-destructive/10 border border-destructive/20 rounded-lg"},C=["disabled"],E={key:0},M={key:1},U=v({__name:"Login",setup(P){const g=S(),l=w(),o=x(),a=i(""),s=i(""),c=i("/dashboard");y(()=>{l.query.redirect&&(c.value=l.query.redirect,!o.token&&!o.error&&(o.error="Por favor, faça login para acessar o sistema"))});const p=async()=>{o.error=null,await o.login(a.value,s.value)?g.push(c.value):s.value=""};return(b,r)=>(n(),t("div",V,[e("div",q,[r[4]||(r[4]=e("div",{class:"text-center mb-8"},[e("h1",{class:"text-3xl font-bold text-foreground"},"Verly ERP"),e("p",{class:"text-muted-foreground mt-2"},"Faça login para acessar o sistema")],-1)),e("form",{onSubmit:h(p,["prevent"]),class:"space-y-6"},[d(o).error?(n(),t("div",B,_(d(o).error),1)):k("",!0),e("div",null,[r[2]||(r[2]=e("label",{for:"username",class:"block text-sm font-medium text-foreground"},"Usuário",-1)),f(e("input",{id:"username","onUpdate:modelValue":r[0]||(r[0]=u=>a.value=u),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-input bg-background text-foreground rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-ring focus:border-ring"},null,512),[[m,a.value]])]),e("div",null,[r[3]||(r[3]=e("label",{for:"password",class:"block text-sm font-medium text-foreground"},"Senha",-1)),f(e("input",{id:"password","onUpdate:modelValue":r[1]||(r[1]=u=>s.value=u),type:"password",required:"",class:"mt-1 block w-full px-3 py-2 border border-input bg-background text-foreground rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-ring focus:border-ring"},null,512),[[m,s.value]])]),e("div",null,[e("button",{type:"submit",class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-primary-foreground bg-primary hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ring disabled:opacity-50 disabled:cursor-not-allowed",disabled:d(o).loading},[d(o).loading?(n(),t("span",E,"Carregando...")):(n(),t("span",M,"Entrar"))],8,C)])],32)])]))}});export{U as default};
