import m from"./api-FIA6GHks-BQrTW_pe.js";import{u as i}from"./Card.vue_vue_type_script_setup_true_lang-U-v0E2th-DBT6mFoe.js";import{m as E}from"./utils-Bzm_o1ou-QrYiH-A4.js";import{T as O,G as f,F as c,z as $,_ as d,u as k,f as e,w as g,a,C as u,b as n,L as s,d as S,m as p,E as I,O as M,g as C}from"./index-D6gXMe8l.js";const U={getMetrics:async()=>(await m.get("/dashboard/metrics")).data,getRevenue:async()=>(await m.get("/dashboard/revenue")).data,getActivities:async()=>(await m.get("/dashboard/activities")).data,getHealth:async()=>(await m.get("/dashboard/health")).data,getSummary:async()=>(await m.get("/dashboard/summary")).data},x=O({__name:"Skeleton",props:{className:{default:""},width:{default:"100%"},height:{default:"1rem"}},setup(_){return(r,o)=>(s(),d("div",{class:p(I(E)("animate-pulse rounded-md bg-muted",r.className)),style:S({width:r.width,height:r.height})},null,6))}}),z={key:0,class:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",role:"alert"},H={class:"flex items-center"},V={class:"text-sm"},G={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8"},q={class:"flex items-center"},Q={class:"ml-4"},W={key:0,class:"text-3xl font-bold text-foreground"},Z={class:"flex items-center"},J={class:"ml-4"},K={key:0,class:"text-3xl font-bold text-foreground"},X={class:"flex items-center"},Y={class:"ml-4"},ee={key:0,class:"text-3xl font-bold text-foreground"},te={class:"flex items-center"},se={class:"ml-4"},re={key:0,class:"text-3xl font-bold text-foreground"},ae={class:"flex items-center"},de={class:"ml-4"},le={key:0,class:"text-3xl font-bold text-foreground"},oe={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},ie={class:"flex items-center"},ne={class:"ml-4"},ce={key:0,class:"text-2xl font-bold text-foreground"},ue={class:"flex items-center"},he={class:"ml-4"},ge={key:0,class:"text-2xl font-bold text-foreground"},xe={class:"flex items-center"},me={class:"ml-4"},ve={key:0,class:"text-2xl font-bold text-foreground"},pe={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},fe={class:"p-6"},we={key:0,class:"text-center py-8"},be={key:1,class:"text-center py-8"},ye={key:2,class:"space-y-4"},ke={class:"flex-1"},Me={class:"flex items-center gap-2"},Ce={class:"font-medium text-foreground"},Oe={class:"text-sm text-muted-foreground mt-1"},_e={class:"text-right"},De={class:"font-medium text-foreground"},Re={class:"text-xs text-muted-foreground"},Be={class:"p-6"},Le={key:0,class:"text-center py-8"},Ne={key:1,class:"text-center py-8"},Ae={key:2,class:"space-y-4"},Te={class:"flex-1"},je={class:"flex items-center gap-2"},Fe={class:"font-medium text-foreground"},Pe={class:"text-sm text-muted-foreground mt-1"},Ee={class:"text-right"},$e={class:"text-xs text-muted-foreground"},Se={class:"p-6"},Ie={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Ue={class:"flex items-center space-x-3"},ze={class:"text-xs text-muted-foreground"},He={class:"flex items-center space-x-3"},Ve={class:"text-xs text-muted-foreground"},Ge={class:"flex items-center space-x-3"},qe={class:"text-xs text-muted-foreground"},Ke=O({__name:"Dashboard",setup(_){const r=f(null),o=f(!0),v=f(null),D=c(()=>r.value?.metrics?.totalCustomers||0),R=c(()=>r.value?.metrics?.totalProducts||0),B=c(()=>r.value?.metrics?.totalOrders||0),L=c(()=>r.value?.metrics?.totalLeads||0),N=c(()=>r.value?.metrics?.totalCashFlows||0),w=c(()=>r.value?.activities?.recentOrders||[]),b=c(()=>r.value?.activities?.recentLeads||[]),A=c(()=>r.value?.revenue?.monthlyRevenue||0),T=c(()=>r.value?.revenue?.weeklyRevenue||0),j=c(()=>r.value?.revenue?.dailyRevenue||0);$(async()=>{try{o.value=!0,v.value=null,r.value=await U.getSummary()}catch(h){console.error("Erro ao carregar dados do dashboard:",h),v.value="Erro ao conectar com o servidor. Verifique se o servidor está rodando em localhost:8080"}finally{o.value=!1}});const F=h=>{switch(h){case"PENDENTE":return"bg-yellow-100 text-yellow-800";case"CONCLUIDO":return"bg-green-100 text-green-800";case"CANCELADO":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},P=h=>{switch(h){case"NOVO":return"bg-blue-100 text-blue-800";case"CONTATO":return"bg-yellow-100 text-yellow-800";case"QUALIFICADO":return"bg-purple-100 text-purple-800";case"PROPOSTA":return"bg-orange-100 text-orange-800";case"FECHADO":return"bg-green-100 text-green-800";case"PERDIDO":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},y=h=>{if(!h)return"";const t=new Date(h);return isNaN(t.getTime())?"Data inválida":new Intl.DateTimeFormat("pt-BR").format(t)};return(h,t)=>(s(),d("div",null,[v.value?(s(),d("div",z,[e("div",H,[t[1]||(t[1]=e("svg",{class:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),e("div",null,[t[0]||(t[0]=e("p",{class:"font-medium"},"Erro de Conexão",-1)),e("p",V,a(v.value),1)])])])):k("",!0),e("div",G,[u(i,{class:"bg-card border-border p-6 hover:shadow-lg transition-shadow duration-200"},{default:n(()=>[e("div",q,[t[3]||(t[3]=e("div",{class:"p-3 rounded-full bg-primary/10 text-primary"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-users"},[e("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),e("circle",{cx:"9",cy:"7",r:"4"}),e("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),e("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})])],-1)),e("div",Q,[t[2]||(t[2]=e("h2",{class:"text-muted-foreground text-sm font-medium"},"Total de Clientes",-1)),o.value?(s(),g(x,{key:1,class:"h-8 w-16"})):(s(),d("p",W,a(D.value),1))])])]),_:1}),u(i,{class:"bg-card border-border p-6 hover:shadow-lg transition-shadow duration-200"},{default:n(()=>[e("div",Z,[t[5]||(t[5]=e("div",{class:"p-3 rounded-full bg-green-500/10 text-green-600"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-package"},[e("path",{d:"m7.5 4.27 9 5.15"}),e("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),e("path",{d:"m3.3 7 8.7 5 8.7-5"}),e("path",{d:"M12 22V12"})])],-1)),e("div",J,[t[4]||(t[4]=e("h2",{class:"text-muted-foreground text-sm font-medium"},"Total de Produtos",-1)),o.value?(s(),g(x,{key:1,class:"h-8 w-16"})):(s(),d("p",K,a(R.value),1))])])]),_:1}),u(i,{class:"bg-card border-border p-6 hover:shadow-lg transition-shadow duration-200"},{default:n(()=>[e("div",X,[t[7]||(t[7]=e("div",{class:"p-3 rounded-full bg-purple-500/10 text-purple-600"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-clipboard-list"},[e("rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}),e("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),e("path",{d:"M12 11h4"}),e("path",{d:"M12 16h4"}),e("path",{d:"M8 11h.01"}),e("path",{d:"M8 16h.01"})])],-1)),e("div",Y,[t[6]||(t[6]=e("h2",{class:"text-muted-foreground text-sm font-medium"},"Total de Pedidos",-1)),o.value?(s(),g(x,{key:1,class:"h-8 w-16"})):(s(),d("p",ee,a(B.value),1))])])]),_:1}),u(i,{class:"bg-card border-border p-6 hover:shadow-lg transition-shadow duration-200"},{default:n(()=>[e("div",te,[t[9]||(t[9]=e("div",{class:"p-3 rounded-full bg-amber-500/10 text-amber-600"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-banknote"},[e("rect",{width:"20",height:"12",x:"2",y:"6",rx:"2"}),e("circle",{cx:"12",cy:"12",r:"2"}),e("path",{d:"M6 12h.01M18 12h.01"})])],-1)),e("div",se,[t[8]||(t[8]=e("h2",{class:"text-muted-foreground text-sm font-medium"},"Saldo Atual",-1)),o.value?(s(),g(x,{key:1,class:"h-8 w-20"})):(s(),d("p",re,"R$ "+a(N.value.toFixed(2)),1))])])]),_:1}),u(i,{class:"bg-card border-border p-6 hover:shadow-lg transition-shadow duration-200"},{default:n(()=>[e("div",ae,[t[11]||(t[11]=e("div",{class:"p-3 rounded-full bg-blue-500/10 text-blue-600"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-target"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("circle",{cx:"12",cy:"12",r:"6"}),e("circle",{cx:"12",cy:"12",r:"2"})])],-1)),e("div",de,[t[10]||(t[10]=e("h2",{class:"text-muted-foreground text-sm font-medium"},"Total de Leads",-1)),o.value?(s(),g(x,{key:1,class:"h-8 w-16"})):(s(),d("p",le,a(L.value),1))])])]),_:1})]),e("div",oe,[u(i,{class:"bg-card border-border p-6 hover:shadow-lg transition-shadow duration-200"},{default:n(()=>[e("div",ie,[t[13]||(t[13]=e("div",{class:"p-3 rounded-full bg-emerald-500/10 text-emerald-600"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-trending-up"},[e("polyline",{points:"22,7 13.5,15.5 8.5,10.5 2,17"}),e("polyline",{points:"16,7 22,7 22,13"})])],-1)),e("div",ne,[t[12]||(t[12]=e("h2",{class:"text-muted-foreground text-sm font-medium"},"Receita Mensal",-1)),o.value?(s(),g(x,{key:1,class:"h-6 w-20"})):(s(),d("p",ce,"R$ "+a(A.value.toFixed(2)),1))])])]),_:1}),u(i,{class:"bg-card border-border p-6 hover:shadow-lg transition-shadow duration-200"},{default:n(()=>[e("div",ue,[t[15]||(t[15]=e("div",{class:"p-3 rounded-full bg-cyan-500/10 text-cyan-600"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-calendar-days"},[e("path",{d:"M8 2v4"}),e("path",{d:"M16 2v4"}),e("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}),e("path",{d:"M3 10h18"}),e("path",{d:"M8 14h.01"}),e("path",{d:"M12 14h.01"}),e("path",{d:"M16 14h.01"}),e("path",{d:"M8 18h.01"}),e("path",{d:"M12 18h.01"}),e("path",{d:"M16 18h.01"})])],-1)),e("div",he,[t[14]||(t[14]=e("h2",{class:"text-muted-foreground text-sm font-medium"},"Receita Semanal",-1)),o.value?(s(),g(x,{key:1,class:"h-6 w-20"})):(s(),d("p",ge,"R$ "+a(T.value.toFixed(2)),1))])])]),_:1}),u(i,{class:"bg-card border-border p-6 hover:shadow-lg transition-shadow duration-200"},{default:n(()=>[e("div",xe,[t[17]||(t[17]=e("div",{class:"p-3 rounded-full bg-orange-500/10 text-orange-600"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-sun"},[e("circle",{cx:"12",cy:"12",r:"4"}),e("path",{d:"M12 2v2"}),e("path",{d:"M12 20v2"}),e("path",{d:"M4.93 4.93l1.41 1.41"}),e("path",{d:"M17.66 17.66l1.41 1.41"}),e("path",{d:"M2 12h2"}),e("path",{d:"M20 12h2"}),e("path",{d:"M6.34 17.66l-1.41 1.41"}),e("path",{d:"M19.07 4.93l-1.41 1.41"})])],-1)),e("div",me,[t[16]||(t[16]=e("h2",{class:"text-muted-foreground text-sm font-medium"},"Receita Diária",-1)),o.value?(s(),g(x,{key:1,class:"h-6 w-20"})):(s(),d("p",ve,"R$ "+a(j.value.toFixed(2)),1))])])]),_:1})]),e("div",pe,[u(i,{class:"bg-card border-border"},{default:n(()=>[t[20]||(t[20]=e("div",{class:"p-6 border-b border-border"},[e("h3",{class:"text-xl font-semibold text-foreground"},"Pedidos Recentes")],-1)),e("div",fe,[o.value?(s(),d("div",we,[...t[18]||(t[18]=[e("p",{class:"text-muted-foreground"},"Carregando...",-1)])])):w.value.length===0?(s(),d("div",be,[...t[19]||(t[19]=[e("p",{class:"text-muted-foreground"},"Nenhum pedido encontrado",-1)])])):(s(),d("div",ye,[(s(!0),d(M,null,C(w.value,l=>(s(),d("div",{key:l.id,class:"flex items-center justify-between p-4 bg-muted/20 rounded-lg hover:bg-muted/30 transition-colors"},[e("div",ke,[e("div",Me,[e("span",Ce,"#"+a(l.id),1),e("span",{class:p([F(l.status),"px-2 py-1 text-xs font-medium rounded-full"])},a(l.status),3)]),e("p",Oe,a(l.customerName||"Cliente #"+l.customerId),1)]),e("div",_e,[e("p",De,"R$ "+a((l.price||l.totalPrice||0).toFixed(2)),1),e("p",Re,a(y(l.createdAt||l.createdDate)),1)])]))),128))]))])]),_:1}),u(i,{class:"bg-card border-border"},{default:n(()=>[t[23]||(t[23]=e("div",{class:"p-6 border-b border-border"},[e("h3",{class:"text-xl font-semibold text-foreground"},"Leads Recentes")],-1)),e("div",Be,[o.value?(s(),d("div",Le,[...t[21]||(t[21]=[e("p",{class:"text-muted-foreground"},"Carregando...",-1)])])):b.value.length===0?(s(),d("div",Ne,[...t[22]||(t[22]=[e("p",{class:"text-muted-foreground"},"Nenhum lead encontrado",-1)])])):(s(),d("div",Ae,[(s(!0),d(M,null,C(b.value,l=>(s(),d("div",{key:l.id,class:"flex items-center justify-between p-4 bg-muted/20 rounded-lg hover:bg-muted/30 transition-colors"},[e("div",Te,[e("div",je,[e("span",Fe,a(l.name||"Lead #"+l.id),1),e("span",{class:p([P(l.status),"px-2 py-1 text-xs font-medium rounded-full"])},a(l.status||"NOVO"),3)]),e("p",Pe,a(l.phone||l.email||"Sem contato"),1)]),e("div",Ee,[e("p",$e,a(y(l.createdAt||l.createdDate)),1)])]))),128))]))])]),_:1})]),r.value?.health?(s(),g(i,{key:1,class:"bg-card border-border mb-6"},{default:n(()=>[t[29]||(t[29]=e("div",{class:"p-6 border-b border-border"},[e("h3",{class:"text-xl font-semibold text-foreground"},"Status do Sistema")],-1)),e("div",Se,[e("div",Ie,[e("div",Ue,[e("div",{class:p([r.value.health.database==="UP"?"bg-green-500":"bg-red-500","w-3 h-3 rounded-full"])},null,2),e("div",null,[t[24]||(t[24]=e("p",{class:"text-sm font-medium text-foreground"},"Banco de Dados",-1)),e("p",ze,a(r.value.health.database==="UP"?"Conectado":"Desconectado"),1)])]),e("div",He,[t[26]||(t[26]=e("div",{class:"p-2 rounded-full bg-blue-500/10 text-blue-600"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-cpu"},[e("rect",{width:"16",height:"16",x:"4",y:"4",rx:"2"}),e("rect",{width:"6",height:"6",x:"9",y:"9",rx:"1"}),e("path",{d:"M15 2v2"}),e("path",{d:"M15 20v2"}),e("path",{d:"M2 15h2"}),e("path",{d:"M2 9h2"}),e("path",{d:"M20 15h2"}),e("path",{d:"M20 9h2"}),e("path",{d:"M9 2v2"}),e("path",{d:"M9 20v2"})])],-1)),e("div",null,[t[25]||(t[25]=e("p",{class:"text-sm font-medium text-foreground"},"Uso de Memória",-1)),e("p",Ve,a(r.value.health.memoryUsed)+"/"+a(r.value.health.memoryTotal)+" MB ("+a((r.value.health.memoryUsed/r.value.health.memoryTotal*100).toFixed(1))+"%)",1)])]),e("div",Ge,[t[28]||(t[28]=e("div",{class:"p-2 rounded-full bg-purple-500/10 text-purple-600"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-server"},[e("rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2"}),e("rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2"}),e("line",{x1:"6",x2:"6.01",y1:"6",y2:"6"}),e("line",{x1:"6",x2:"6.01",y1:"18",y2:"18"})])],-1)),e("div",null,[t[27]||(t[27]=e("p",{class:"text-sm font-medium text-foreground"},"Processadores",-1)),e("p",qe,a(r.value.health.processors)+" disponíveis",1)])])])])]),_:1})):k("",!0)]))}});export{Ke as default};
