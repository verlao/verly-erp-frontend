import x from"./api-FIA6GHks.js";import{_ as n}from"./Card.vue_vue_type_script_setup_true_lang-U-v0E2th.js";import{c as T}from"./utils-Bzm_o1ou.js";import{d as R,c as d,b as s,x as E,n as f,g as V,r as w,k as u,o as U,f as k,e,l as g,t as r,q as c,m as i,F as M,y as C}from"./index-Cim79vwX.js";const $={getMetrics:async()=>(await x.get("/dashboard/metrics")).data,getRevenue:async()=>(await x.get("/dashboard/revenue")).data,getActivities:async()=>(await x.get("/dashboard/activities")).data,getHealth:async()=>(await x.get("/dashboard/health")).data,getSummary:async()=>(await x.get("/dashboard/summary")).data},m=R({__name:"Skeleton",props:{className:{default:""},width:{default:"100%"},height:{default:"1rem"}},setup(p){return(o,a)=>(s(),d("div",{class:f(V(T)("animate-pulse rounded-md bg-muted",o.className)),style:E({width:o.width,height:o.height})},null,6))}}),I={key:0,class:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",role:"alert"},z={class:"flex items-center"},H={class:"text-sm"},q={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8"},Q={class:"flex items-center"},Z={class:"ml-4"},G={key:0,class:"text-3xl font-bold text-foreground"},J={class:"flex items-center"},K={class:"ml-4"},W={key:0,class:"text-3xl font-bold text-foreground"},X={class:"flex items-center"},Y={class:"ml-4"},ee={key:0,class:"text-3xl font-bold text-foreground"},te={class:"flex items-center"},se={class:"ml-4"},oe={key:0,class:"text-3xl font-bold text-foreground"},re={class:"flex items-center"},de={class:"ml-4"},le={key:0,class:"text-3xl font-bold text-foreground"},ae={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},ne={class:"flex items-center"},ie={class:"ml-4"},ue={key:0,class:"text-2xl font-bold text-foreground"},ce={class:"flex items-center"},he={class:"ml-4"},ge={key:0,class:"text-2xl font-bold text-foreground"},me={class:"flex items-center"},pe={class:"ml-4"},xe={key:0,class:"text-2xl font-bold text-foreground"},ve={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},fe={class:"p-6"},we={key:0,class:"text-center py-8"},be={key:1,class:"text-center py-8"},ye={key:2,class:"space-y-4"},_e={class:"flex-1"},ke={class:"flex items-center gap-2"},Me={class:"font-medium text-foreground"},Ce={class:"text-sm text-muted-foreground mt-1"},Re={class:"text-right"},Be={class:"font-medium text-foreground"},De={class:"text-xs text-muted-foreground"},Ne={class:"p-6"},Oe={key:0,class:"text-center py-8"},Le={key:1,class:"text-center py-8"},Ae={key:2,class:"space-y-4"},Fe={class:"flex-1"},Se={class:"flex items-center gap-2"},je={class:"font-medium text-foreground"},Pe={class:"text-sm text-muted-foreground mt-1"},Te={class:"text-right"},Ee={class:"text-xs text-muted-foreground"},Ve={class:"p-6"},Ue={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},$e={class:"flex items-center space-x-3"},Ie={class:"text-xs text-muted-foreground"},ze={class:"flex items-center space-x-3"},He={class:"text-xs text-muted-foreground"},qe={class:"flex items-center space-x-3"},Qe={class:"text-xs text-muted-foreground"},We=R({__name:"Dashboard",setup(p){const o=w(null),a=w(!0),v=w(null),B=u(()=>o.value?.metrics?.totalCustomers||0),D=u(()=>o.value?.metrics?.totalProducts||0),N=u(()=>o.value?.metrics?.totalOrders||0),O=u(()=>o.value?.metrics?.totalLeads||0),L=u(()=>o.value?.metrics?.totalCashFlows||0),b=u(()=>o.value?.activities?.recentOrders||[]),y=u(()=>o.value?.activities?.recentLeads||[]),A=u(()=>o.value?.revenue?.monthlyRevenue||0),F=u(()=>o.value?.revenue?.weeklyRevenue||0),S=u(()=>o.value?.revenue?.dailyRevenue||0);U(async()=>{try{a.value=!0,v.value=null,o.value=await $.getSummary()}catch(h){console.error("Erro ao carregar dados do dashboard:",h),v.value="Erro ao conectar com o servidor. Verifique se o servidor está rodando em localhost:8080"}finally{a.value=!1}});const j=h=>{switch(h){case"PENDENTE":return"bg-yellow-100 text-yellow-800";case"CONCLUIDO":return"bg-green-100 text-green-800";case"CANCELADO":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},P=h=>{switch(h){case"NOVO":return"bg-blue-100 text-blue-800";case"CONTATO":return"bg-yellow-100 text-yellow-800";case"QUALIFICADO":return"bg-purple-100 text-purple-800";case"PROPOSTA":return"bg-orange-100 text-orange-800";case"FECHADO":return"bg-green-100 text-green-800";case"PERDIDO":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},_=h=>{if(!h)return"";const t=new Date(h);return isNaN(t.getTime())?"Data inválida":new Intl.DateTimeFormat("pt-BR").format(t)};return(h,t)=>(s(),d("div",null,[v.value?(s(),d("div",I,[e("div",z,[t[1]||(t[1]=e("svg",{class:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),e("div",null,[t[0]||(t[0]=e("p",{class:"font-medium"},"Erro de Conexão",-1)),e("p",H,r(v.value),1)])])])):k("",!0),e("div",q,[c(n,{class:"bg-card border-border p-6 hover:shadow-lg transition-shadow duration-200"},{default:i(()=>[e("div",Q,[t[3]||(t[3]=e("div",{class:"p-3 rounded-full bg-primary/10 text-primary"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-users"},[e("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),e("circle",{cx:"9",cy:"7",r:"4"}),e("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),e("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})])],-1)),e("div",Z,[t[2]||(t[2]=e("h2",{class:"text-muted-foreground text-sm font-medium"},"Total de Clientes",-1)),a.value?(s(),g(m,{key:1,class:"h-8 w-16"})):(s(),d("p",G,r(B.value),1))])])]),_:1}),c(n,{class:"bg-card border-border p-6 hover:shadow-lg transition-shadow duration-200"},{default:i(()=>[e("div",J,[t[5]||(t[5]=e("div",{class:"p-3 rounded-full bg-green-500/10 text-green-600"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-package"},[e("path",{d:"m7.5 4.27 9 5.15"}),e("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),e("path",{d:"m3.3 7 8.7 5 8.7-5"}),e("path",{d:"M12 22V12"})])],-1)),e("div",K,[t[4]||(t[4]=e("h2",{class:"text-muted-foreground text-sm font-medium"},"Total de Produtos",-1)),a.value?(s(),g(m,{key:1,class:"h-8 w-16"})):(s(),d("p",W,r(D.value),1))])])]),_:1}),c(n,{class:"bg-card border-border p-6 hover:shadow-lg transition-shadow duration-200"},{default:i(()=>[e("div",X,[t[7]||(t[7]=e("div",{class:"p-3 rounded-full bg-purple-500/10 text-purple-600"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-clipboard-list"},[e("rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}),e("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),e("path",{d:"M12 11h4"}),e("path",{d:"M12 16h4"}),e("path",{d:"M8 11h.01"}),e("path",{d:"M8 16h.01"})])],-1)),e("div",Y,[t[6]||(t[6]=e("h2",{class:"text-muted-foreground text-sm font-medium"},"Total de Pedidos",-1)),a.value?(s(),g(m,{key:1,class:"h-8 w-16"})):(s(),d("p",ee,r(N.value),1))])])]),_:1}),c(n,{class:"bg-card border-border p-6 hover:shadow-lg transition-shadow duration-200"},{default:i(()=>[e("div",te,[t[9]||(t[9]=e("div",{class:"p-3 rounded-full bg-amber-500/10 text-amber-600"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-banknote"},[e("rect",{width:"20",height:"12",x:"2",y:"6",rx:"2"}),e("circle",{cx:"12",cy:"12",r:"2"}),e("path",{d:"M6 12h.01M18 12h.01"})])],-1)),e("div",se,[t[8]||(t[8]=e("h2",{class:"text-muted-foreground text-sm font-medium"},"Saldo Atual",-1)),a.value?(s(),g(m,{key:1,class:"h-8 w-20"})):(s(),d("p",oe,"R$ "+r(L.value.toFixed(2)),1))])])]),_:1}),c(n,{class:"bg-card border-border p-6 hover:shadow-lg transition-shadow duration-200"},{default:i(()=>[e("div",re,[t[11]||(t[11]=e("div",{class:"p-3 rounded-full bg-blue-500/10 text-blue-600"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-target"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("circle",{cx:"12",cy:"12",r:"6"}),e("circle",{cx:"12",cy:"12",r:"2"})])],-1)),e("div",de,[t[10]||(t[10]=e("h2",{class:"text-muted-foreground text-sm font-medium"},"Total de Leads",-1)),a.value?(s(),g(m,{key:1,class:"h-8 w-16"})):(s(),d("p",le,r(O.value),1))])])]),_:1})]),e("div",ae,[c(n,{class:"bg-card border-border p-6 hover:shadow-lg transition-shadow duration-200"},{default:i(()=>[e("div",ne,[t[13]||(t[13]=e("div",{class:"p-3 rounded-full bg-emerald-500/10 text-emerald-600"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-trending-up"},[e("polyline",{points:"22,7 13.5,15.5 8.5,10.5 2,17"}),e("polyline",{points:"16,7 22,7 22,13"})])],-1)),e("div",ie,[t[12]||(t[12]=e("h2",{class:"text-muted-foreground text-sm font-medium"},"Receita Mensal",-1)),a.value?(s(),g(m,{key:1,class:"h-6 w-20"})):(s(),d("p",ue,"R$ "+r(A.value.toFixed(2)),1))])])]),_:1}),c(n,{class:"bg-card border-border p-6 hover:shadow-lg transition-shadow duration-200"},{default:i(()=>[e("div",ce,[t[15]||(t[15]=e("div",{class:"p-3 rounded-full bg-cyan-500/10 text-cyan-600"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-calendar-days"},[e("path",{d:"M8 2v4"}),e("path",{d:"M16 2v4"}),e("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}),e("path",{d:"M3 10h18"}),e("path",{d:"M8 14h.01"}),e("path",{d:"M12 14h.01"}),e("path",{d:"M16 14h.01"}),e("path",{d:"M8 18h.01"}),e("path",{d:"M12 18h.01"}),e("path",{d:"M16 18h.01"})])],-1)),e("div",he,[t[14]||(t[14]=e("h2",{class:"text-muted-foreground text-sm font-medium"},"Receita Semanal",-1)),a.value?(s(),g(m,{key:1,class:"h-6 w-20"})):(s(),d("p",ge,"R$ "+r(F.value.toFixed(2)),1))])])]),_:1}),c(n,{class:"bg-card border-border p-6 hover:shadow-lg transition-shadow duration-200"},{default:i(()=>[e("div",me,[t[17]||(t[17]=e("div",{class:"p-3 rounded-full bg-orange-500/10 text-orange-600"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-sun"},[e("circle",{cx:"12",cy:"12",r:"4"}),e("path",{d:"M12 2v2"}),e("path",{d:"M12 20v2"}),e("path",{d:"M4.93 4.93l1.41 1.41"}),e("path",{d:"M17.66 17.66l1.41 1.41"}),e("path",{d:"M2 12h2"}),e("path",{d:"M20 12h2"}),e("path",{d:"M6.34 17.66l-1.41 1.41"}),e("path",{d:"M19.07 4.93l-1.41 1.41"})])],-1)),e("div",pe,[t[16]||(t[16]=e("h2",{class:"text-muted-foreground text-sm font-medium"},"Receita Diária",-1)),a.value?(s(),g(m,{key:1,class:"h-6 w-20"})):(s(),d("p",xe,"R$ "+r(S.value.toFixed(2)),1))])])]),_:1})]),e("div",ve,[c(n,{class:"bg-card border-border"},{default:i(()=>[t[20]||(t[20]=e("div",{class:"p-6 border-b border-border"},[e("h3",{class:"text-xl font-semibold text-foreground"},"Pedidos Recentes")],-1)),e("div",fe,[a.value?(s(),d("div",we,[...t[18]||(t[18]=[e("p",{class:"text-muted-foreground"},"Carregando...",-1)])])):b.value.length===0?(s(),d("div",be,[...t[19]||(t[19]=[e("p",{class:"text-muted-foreground"},"Nenhum pedido encontrado",-1)])])):(s(),d("div",ye,[(s(!0),d(M,null,C(b.value,l=>(s(),d("div",{key:l.id,class:"flex items-center justify-between p-4 bg-muted/20 rounded-lg hover:bg-muted/30 transition-colors"},[e("div",_e,[e("div",ke,[e("span",Me,"#"+r(l.id),1),e("span",{class:f([j(l.status),"px-2 py-1 text-xs font-medium rounded-full"])},r(l.status),3)]),e("p",Ce,r(l.customerName||"Cliente #"+l.customerId),1)]),e("div",Re,[e("p",Be,"R$ "+r((l.price||l.totalPrice||0).toFixed(2)),1),e("p",De,r(_(l.createdAt||l.createdDate)),1)])]))),128))]))])]),_:1}),c(n,{class:"bg-card border-border"},{default:i(()=>[t[23]||(t[23]=e("div",{class:"p-6 border-b border-border"},[e("h3",{class:"text-xl font-semibold text-foreground"},"Leads Recentes")],-1)),e("div",Ne,[a.value?(s(),d("div",Oe,[...t[21]||(t[21]=[e("p",{class:"text-muted-foreground"},"Carregando...",-1)])])):y.value.length===0?(s(),d("div",Le,[...t[22]||(t[22]=[e("p",{class:"text-muted-foreground"},"Nenhum lead encontrado",-1)])])):(s(),d("div",Ae,[(s(!0),d(M,null,C(y.value,l=>(s(),d("div",{key:l.id,class:"flex items-center justify-between p-4 bg-muted/20 rounded-lg hover:bg-muted/30 transition-colors"},[e("div",Fe,[e("div",Se,[e("span",je,r(l.name||"Lead #"+l.id),1),e("span",{class:f([P(l.status),"px-2 py-1 text-xs font-medium rounded-full"])},r(l.status||"NOVO"),3)]),e("p",Pe,r(l.phone||l.email||"Sem contato"),1)]),e("div",Te,[e("p",Ee,r(_(l.createdAt||l.createdDate)),1)])]))),128))]))])]),_:1})]),o.value?.health?(s(),g(n,{key:1,class:"bg-card border-border mb-6"},{default:i(()=>[t[29]||(t[29]=e("div",{class:"p-6 border-b border-border"},[e("h3",{class:"text-xl font-semibold text-foreground"},"Status do Sistema")],-1)),e("div",Ve,[e("div",Ue,[e("div",$e,[e("div",{class:f([o.value.health.database==="UP"?"bg-green-500":"bg-red-500","w-3 h-3 rounded-full"])},null,2),e("div",null,[t[24]||(t[24]=e("p",{class:"text-sm font-medium text-foreground"},"Banco de Dados",-1)),e("p",Ie,r(o.value.health.database==="UP"?"Conectado":"Desconectado"),1)])]),e("div",ze,[t[26]||(t[26]=e("div",{class:"p-2 rounded-full bg-blue-500/10 text-blue-600"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-cpu"},[e("rect",{width:"16",height:"16",x:"4",y:"4",rx:"2"}),e("rect",{width:"6",height:"6",x:"9",y:"9",rx:"1"}),e("path",{d:"M15 2v2"}),e("path",{d:"M15 20v2"}),e("path",{d:"M2 15h2"}),e("path",{d:"M2 9h2"}),e("path",{d:"M20 15h2"}),e("path",{d:"M20 9h2"}),e("path",{d:"M9 2v2"}),e("path",{d:"M9 20v2"})])],-1)),e("div",null,[t[25]||(t[25]=e("p",{class:"text-sm font-medium text-foreground"},"Uso de Memória",-1)),e("p",He,r(o.value.health.memoryUsed)+"/"+r(o.value.health.memoryTotal)+" MB ("+r((o.value.health.memoryUsed/o.value.health.memoryTotal*100).toFixed(1))+"%)",1)])]),e("div",qe,[t[28]||(t[28]=e("div",{class:"p-2 rounded-full bg-purple-500/10 text-purple-600"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-server"},[e("rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2"}),e("rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2"}),e("line",{x1:"6",x2:"6.01",y1:"6",y2:"6"}),e("line",{x1:"6",x2:"6.01",y1:"18",y2:"18"})])],-1)),e("div",null,[t[27]||(t[27]=e("p",{class:"text-sm font-medium text-foreground"},"Processadores",-1)),e("p",Qe,r(o.value.health.processors)+" disponíveis",1)])])])])]),_:1})):k("",!0)]))}});export{We as default};
