import{d as x,r as i,k as E,c as a,b as s,h as w,t as r,v as B,C as p,E as C}from"./index-DcZlzi53.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"editable-cell"},R={key:0},S={key:1},D={key:2},F=x({__name:"EditableCell",props:{cost:{},field:{},isMoney:{type:Boolean,default:!1},isPercent:{type:Boolean,default:!1}},emits:["update"],setup(f,{emit:v}){const l=f,y=v,n=i(!1),o=i(""),u=i(),t=E(()=>l.cost[l.field]??0),m=e=>e.toFixed(2).replace(".",","),_=async()=>{n.value=!0,o.value=String(t.value),await C(),u.value?.focus(),u.value?.select()},g=()=>{n.value&&c()},k=()=>{c()},b=()=>{n.value=!1,o.value=String(t.value)},c=()=>{const e=parseFloat(o.value)||0;e!==t.value&&y("update",l.field,e),n.value=!1};return(e,d)=>(s(),a("div",M,[n.value?w((s(),a("input",{key:1,ref_key:"inputRef",ref:u,"onUpdate:modelValue":d[0]||(d[0]=h=>o.value=h),type:"number",step:"0.01",min:"0",class:"w-full px-2 py-1 border border-input bg-background text-foreground rounded focus:outline-none focus:ring-2 focus:ring-ring text-sm",onBlur:g,onKeydown:[p(k,["enter"]),p(b,["escape"])]},null,544)),[[B,o.value]]):(s(),a("div",{key:0,onClick:_,class:"cursor-pointer hover:bg-muted/50 px-2 py-1 rounded"},[e.isMoney?(s(),a("span",R,"R$ "+r(m(t.value)),1)):e.isPercent?(s(),a("span",S,r(t.value)+"%",1)):(s(),a("span",D,r(t.value),1))]))]))}}),T=V(F,[["__scopeId","data-v-b3a5d4a7"]]);export{T as E};
