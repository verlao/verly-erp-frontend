import{T as me,G as u,F as xe,q as ve,z as ge,_ as i,f as e,u as B,C as T,W as x,Q as h,a as s,i as R,O as X,g as W,e as y,Z as be,Y as Q,L as n,m as Z,j as Y,k as ye}from"./index-D6gXMe8l.js";import{r as M}from"./product-D0CDyfc9-DodzjxVd.js";import{r as _}from"./product-cost-I3EFvM5e-FvF7QzVQ.js";import{T as U}from"./EditableCell-D5ZsUKEx-BW0JSaF7.js";import{q as fe}from"./cart-D8lMqQeX-CIxq-HRq.js";import"./api-FIA6GHks-BQrTW_pe.js";import"./_plugin-vue_export-helper-DlAUqK2U-lGy7RumW.js";const he={class:"min-h-screen bg-gray-50"},we={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},ke={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-8"},Ce={key:0,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6"},Ae={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Ee={class:"border border-gray-200 rounded-lg p-4"},Me={class:"border border-gray-200 rounded-lg p-4"},Pe={class:"border border-gray-200 rounded-lg p-4"},$e={class:"mb-4"},je={class:"relative"},Fe={class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},Be={class:"px-6 py-4 border-b border-gray-200"},Re={class:"text-sm text-gray-600 mt-1"},Ve={key:0,class:"flex items-center justify-center h-64"},ze={key:1,class:"text-center py-16"},Ie={key:2,class:"overflow-x-auto"},Le={class:"w-full"},Te={class:"bg-white divide-y divide-gray-200"},Ue=["data-product-key"],Ne={class:"px-6 py-5 font-medium text-gray-900 text-sm"},Oe={class:"px-6 py-5 text-gray-700 text-sm"},Se={class:"px-6 py-5 text-gray-700 text-sm"},Ke={class:"text-xs"},De={class:"text-gray-400"},qe={class:"px-6 py-5 text-gray-700 text-sm"},Ze={class:"px-6 py-5 text-gray-700 text-sm"},_e=["onClick"],Ge={class:"px-6 py-5 font-mono text-blue-600 text-sm"},He={class:"px-6 py-5 font-mono font-semibold text-gray-900 text-sm"},Je={class:"px-6 py-5 font-mono font-semibold text-green-600 text-sm"},Xe={class:"px-6 py-5 text-sm"},We={key:0,class:"space-y-1"},Qe={class:"font-mono font-semibold text-blue-600"},Ye={class:"text-xs text-gray-500"},et={key:1,class:"text-gray-400"},tt={class:"px-6 py-5 font-mono text-purple-600 font-semibold text-sm"},ot={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},lt={class:"flex justify-end space-x-2"},at=["onClick","disabled"],rt=["onClick"],st=["onClick"],it={key:3,class:"flex items-center justify-between px-6 py-3 bg-white border-t border-gray-200"},nt={class:"flex-1 flex justify-between sm:hidden"},dt=["disabled"],ut=["disabled"],ct={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},pt={class:"text-sm text-gray-700"},mt={class:"font-medium"},xt={class:"font-medium"},vt={class:"font-medium"},gt={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},bt=["disabled"],yt=["onClick"],ft=["disabled"],ht={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},wt={class:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto"},kt={class:"sticky top-0 bg-white p-6 border-b border-gray-200 rounded-t-lg"},Ct={class:"flex items-center justify-between"},At={class:"text-xl font-semibold text-gray-900"},Et={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Mt={key:0,class:"mt-6 p-4 bg-green-50 rounded-lg border border-green-200"},Pt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},$t={class:"text-center p-3 bg-white rounded-lg border"},jt={class:"font-mono text-lg font-semibold text-gray-900"},Ft={class:"text-center p-3 bg-white rounded-lg border"},Bt={class:"font-mono text-lg font-semibold text-orange-600"},Rt={class:"text-center p-3 bg-white rounded-lg border"},Vt={class:"font-mono text-lg font-semibold text-blue-600"},zt={class:"mt-8 flex justify-end space-x-3 pt-6 border-t border-gray-200"},It=["disabled"],Lt={key:0,class:"flex items-center"},Tt={key:1},Ut={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},Nt={class:"bg-white rounded-lg shadow-xl w-full max-w-md"},Ot={class:"p-6"},St={class:"text-center"},Kt={class:"text-sm text-gray-600 mb-6"},Dt={class:"text-gray-900"},qt={class:"flex justify-end space-x-3"},Zt=["disabled"],_t=["disabled"],Gt={key:0,class:"flex items-center"},Ht={key:1},lo=me({__name:"Products",setup(Jt){const ee=fe(),f=u([]),p=u(null),N=u(!0),P=u(!1),V=u(!1),w=u(!1),z=u(!1),$=u(!1),O=u(""),S=u(""),I=u(""),d=u(1),K=u(10),j=u(0),v=u(0),r=u({key:"",category:"",type:"",sheets:0,kit:0,width:0,height:0,weight:0,measure:0,color:"",cost:0,price:0,profit:0,laborValue:0,createdDate:"",installments:[]}),k=u(null),g=u(""),b=u(""),C=u(null),G=xe(()=>f.value);ve([O,S],()=>{d.value=1,m()},{deep:!0});function F(l){d.value=l,m()}function te(){const l=v.value,t=d.value;if(l<=5)return Array.from({length:l},(A,E)=>E+1);const o=Math.floor(5/2);let a=Math.max(1,t-o),c=Math.min(l,a+5-1);return c-a+1<5&&(a=Math.max(1,c-5+1)),Array.from({length:c-a+1},(A,E)=>a+E)}ge(async()=>{await Promise.all([m(),L()])});async function L(){try{const l=await _.getAll();l&&l.length>0&&(p.value=l[0])}catch(l){console.error("Erro ao carregar custos:",l)}}async function m(){try{N.value=!0;const l={page:d.value-1,size:K.value};O.value&&(l.type=O.value),S.value&&(l.color=S.value);let t;if(I.value.trim()?(l.query=I.value.trim(),t=await M.search(l)):t=await M.getAll(l),t&&typeof t=="object"&&"content"in t){const o=t;f.value=o.content,j.value=o.totalElements,v.value=o.totalPages}else f.value=Array.isArray(t)?t:[],j.value=f.value.length,v.value=1}catch(l){console.error("Erro ao carregar produtos:",l)}finally{N.value=!1}}let H;function oe(){clearTimeout(H),H=setTimeout(()=>{d.value=1,m()},300)}function le(l){if(!l.price||!l.cost)return"-";const t=l.price-l.cost,o=t/l.price*100;return`R$ ${t.toFixed(2)} (${o.toFixed(1)}%)`}function D(l){l?(r.value={...l},console.log("openModal - Produto original:",l),console.log("openModal - Kit do produto:",l.kit),console.log("openModal - currentProduct após cópia:",r.value),console.log("openModal - Kit do currentProduct:",r.value.kit),b.value=l.kit?`R$ ${l.kit.toFixed(2).replace(".",",")}`:"",console.log("openModal - kitInputValue definido como:",b.value),w.value=!0):(r.value={key:"",category:"",type:"",sheets:0,kit:0,width:0,height:0,weight:0,measure:0,color:"",cost:0,price:0,profit:0,createdDate:"",installments:[]},b.value="",w.value=!1),P.value=!0}async function ae(){try{if(z.value=!0,console.log("Payload sendo enviado:",JSON.stringify(r.value,null,2)),console.log("Kit value:",r.value.kit),console.log("Kit input value:",b.value),w.value&&r.value.key)await M.update(r.value.key,r.value);else{const l=await M.create(r.value);l&&l.key&&(r.value.key=l.key)}P.value=!1,await m()}catch(l){console.error("Erro ao salvar produto:",l),alert("Erro ao salvar produto. Tente novamente.")}finally{z.value=!1}}function re(l){C.value=l,V.value=!0}async function se(){if(C.value?.key)try{$.value=!0,await M.delete(C.value.key),V.value=!1,C.value=null,await m()}catch(l){console.error("Erro ao excluir produto:",l),alert("Erro ao excluir produto. Tente novamente.")}finally{$.value=!1}}function ie(l){if(!l.price){alert("Este produto não possui preço definido.");return}ee.addItem(l,1),alert(`${l.type} - ${l.color} adicionado ao carrinho!`)}function ne(l){k.value=l.key||null,g.value=l.kit?.toString()||"",ye(()=>{const t=document.querySelector('input[ref="kitInput"]');t&&(t.focus(),t.select())})}async function J(){if(!k.value)return;const l=f.value.find(o=>o.key===k.value);if(!l)return;const t=l.kit;try{const o=g.value.trim()===""?null:parseFloat(g.value);if(g.value.trim()!==""&&(isNaN(o)||o<0)){alert("Por favor, insira um valor válido para o kit");return}l.kit=o??void 0;const a=await M.update(l.key,l),c=f.value.findIndex(A=>A.key===l.key);c!==-1&&(f.value[c]=a),k.value=null,g.value=""}catch(o){console.error("Erro ao salvar kit:",o),l.kit=t,alert("Erro ao salvar o valor do kit. Tente novamente.")}}function de(){k.value=null,g.value=""}function ue(l){return l?typeof l=="string"?l.startsWith("R$")?l:`R$ ${l}`:`R$ ${l.toFixed(2).replace(".",",")}`:"R$ 0,00"}function ce(l){const t=l.target;let o=t.value;if(o=o.replace(/\D/g,""),o===""){b.value="",r.value.kit=0;return}const a=parseInt(o)/100;b.value=`R$ ${a.toFixed(2).replace(".",",")}`,r.value.kit=a,console.log("handleKitInput - Raw value:",t.value),console.log("handleKitInput - Cleaned value:",o),console.log("handleKitInput - Numeric value:",a),console.log("handleKitInput - currentProduct.kit:",r.value.kit)}async function q(l,t){if(p.value)try{p.value[l]=t,await _.update(p.value),await m()}catch(o){console.error("Erro ao salvar custo do vidro:",o),alert("Erro ao salvar o valor do vidro. Tente novamente."),await L()}}async function pe(l,t,o){if(!(!o||!o.key||!p.value))try{console.log("handleLaborInlineEdit chamado:",{product:o.type,value:t});let a="";const c=o.type;c==="JANELA"?a="laborWindow":c==="SACADA"?a="laborBalcony":c==="BASCULANTE"?a="laborTilting":c==="FIXO"?a="laborFixed":c==="BOX"?a="laborBox":a="laborDoor",console.log("Campo de mão de obra determinado:",a);const A=Array.isArray(p.value)?p.value[0]:p.value;console.log("Custo atual:",A);const E={...A,[a]:typeof t=="string"?parseFloat(t):t};console.log("Custo atualizado:",E),console.log("Chamando productCostService.update..."),await _.update(E),console.log("productCostService.update concluído"),await L(),await m()}catch(a){console.error("Erro ao atualizar mão de obra:",a),alert("Erro ao salvar mão de obra. Tente novamente."),await L(),await m()}}return(l,t)=>(n(),i("div",he,[e("div",we,[e("div",ke,[t[22]||(t[22]=e("div",null,[e("h1",{class:"text-2xl font-semibold text-gray-900"},"Produtos"),e("p",{class:"text-gray-600 mt-1"},"Gerencie seus produtos de vidro temperado")],-1)),e("button",{onClick:t[0]||(t[0]=o=>D()),class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors font-medium flex items-center space-x-2"},[...t[21]||(t[21]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M12 5v14M5 12h14"})],-1),e("span",null,"Novo Produto",-1)])])]),p.value?(n(),i("div",Ce,[t[26]||(t[26]=e("h2",{class:"text-base font-medium text-gray-900 mb-3"},"Custos do Vidro Temperado",-1)),e("div",Ae,[e("div",Ee,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Incolor",-1)),T(U,{cost:p.value,field:"incolor","is-money":!0,onUpdate:q},null,8,["cost"])]),e("div",Me,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Verde",-1)),T(U,{cost:p.value,field:"verde","is-money":!0,onUpdate:q},null,8,["cost"])]),e("div",Pe,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Fumê",-1)),T(U,{cost:p.value,field:"fume","is-money":!0,onUpdate:q},null,8,["cost"])])])])):B("",!0),e("div",$e,[e("div",je,[t[27]||(t[27]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-gray-400"},[e("circle",{cx:"11",cy:"11",r:"8"}),e("path",{d:"m21 21-4.35-4.35"})])],-1)),x(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>I.value=o),onInput:oe,type:"text",placeholder:"Buscar produtos...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},null,544),[[h,I.value]])])]),e("div",Fe,[e("div",Be,[t[28]||(t[28]=e("h2",{class:"text-lg font-medium text-gray-900"},"Lista de Produtos",-1)),e("p",Re,s(j.value)+" produtos encontrados",1)]),N.value?(n(),i("div",Ve,[...t[29]||(t[29]=[R('<div class="flex items-center space-x-3"><svg class="animate-spin h-8 w-8 text-blue-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg><span class="text-gray-600 font-medium">Carregando produtos...</span></div>',1)])])):G.value.length===0?(n(),i("div",ze,[t[30]||(t[30]=R('<div class="bg-gray-50 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-gray-400"><path d="m7.5 4.27 9 5.15"></path><path d="M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"></path><path d="m3.3 7 8.7 5 8.7-5"></path><path d="M12 22V12"></path></svg></div><h3 class="text-xl font-semibold text-gray-900 mb-2">Nenhum produto encontrado</h3><p class="text-gray-500 mb-6">Comece criando seu primeiro produto ou ajuste sua busca.</p>',3)),e("button",{onClick:t[2]||(t[2]=o=>D()),class:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-6 py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 font-medium"}," Criar Primeiro Produto ")])):(n(),i("div",Ie,[e("table",Le,[t[34]||(t[34]=e("thead",{class:"bg-gray-50"},[e("tr",{class:"border-b border-gray-200"},[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tipo"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Folhas"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-32"},"Dimensões"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Cor"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-24"},"Kit"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-28"},"Mão de Obra"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-24"},"Custo"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-24"},"Preço à Vista"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Preço 12x"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Lucro"),e("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Ações")])],-1)),e("tbody",Te,[(n(!0),i(X,null,W(G.value,o=>(n(),i("tr",{key:o.key,"data-product-key":o.key,class:"hover:bg-gray-50"},[e("td",Ne,[e("span",{class:Z(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",{"bg-blue-100 text-blue-800":o.type==="PORTA","bg-green-100 text-green-800":o.type==="JANELA","bg-purple-100 text-purple-800":o.type==="SACADA","bg-orange-100 text-orange-800":o.type==="BASCULANTE","bg-gray-100 text-gray-800":o.type==="FIXO","bg-gray-100 text-gray-500":!o.type}])},s(o.type||"-"),3)]),e("td",Oe,s(o.sheets||"-"),1),e("td",Se,[e("div",Ke,[e("div",null,s(o.width?o.width+"cm":"-")+" × "+s(o.height?o.height+"cm":"-"),1),e("div",De,s(o.measure?o.measure.toFixed(2)+"m²":"-"),1)])]),e("td",qe,[e("span",{class:Z(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",{"bg-blue-100 text-blue-800":o.color==="INCOLOR","bg-green-100 text-green-800":o.color==="VERDE","bg-gray-100 text-gray-800":o.color==="FUME","bg-amber-100 text-amber-800":o.color==="BRONZE","bg-gray-100 text-gray-500":!o.color}])},s(o.color||"-"),3)]),e("td",Ze,[k.value===o.key?x((n(),i("input",{key:0,"onUpdate:modelValue":t[3]||(t[3]=a=>g.value=a),onBlur:t[4]||(t[4]=a=>J()),onKeyup:[t[5]||(t[5]=Y(a=>J(),["enter"])),t[6]||(t[6]=Y(a=>de(),["escape"]))],class:"w-full px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"R$ 0,00",ref_for:!0,ref:"kitInput",autofocus:""},null,544)),[[h,g.value]]):(n(),i("span",{key:1,onClick:a=>ne(o),class:"cursor-pointer hover:bg-gray-100 px-2 py-1 rounded"},s(ue(o.kit)),9,_e))]),e("td",Ge,[T(U,{cost:o,field:"laborValue","is-money":!0,onUpdate:(a,c)=>pe(a,c,o)},null,8,["cost","onUpdate"])]),e("td",He,s(o.cost?"R$ "+o.cost.toFixed(2):"-"),1),e("td",Je,s(o.price?"R$ "+o.price.toFixed(2):"-"),1),e("td",Xe,[o.price?(n(),i("div",We,[e("div",Qe,"R$ "+s((o.price*1.2).toFixed(2)),1),e("div",Ye,"12x de R$ "+s((o.price*1.2/12).toFixed(2)),1)])):(n(),i("span",et,"-"))]),e("td",tt,s(le(o)),1),e("td",ot,[e("div",lt,[e("button",{onClick:a=>ie(o),class:"text-green-600 hover:text-green-900 p-1",title:"Adicionar ao Carrinho",disabled:!o.price},[...t[31]||(t[31]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("circle",{cx:"8",cy:"21",r:"1"}),e("circle",{cx:"19",cy:"21",r:"1"}),e("path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57L23 6H6"})],-1)])],8,at),e("button",{onClick:a=>D(o),class:"text-blue-600 hover:text-blue-900 p-1",title:"Editar Produto"},[...t[32]||(t[32]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}),e("path",{d:"m15 5 4 4"})],-1)])],8,rt),e("button",{onClick:a=>re(o),class:"text-red-600 hover:text-red-900 p-1",title:"Excluir Produto"},[...t[33]||(t[33]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M3 6h18"}),e("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),e("path",{d:"M8 6V4c0-1 1-2 2-2h4c-1 0 2 1 2 2v2"})],-1)])],8,st)])])],8,Ue))),128))])])])),v.value>1?(n(),i("div",it,[e("div",nt,[e("button",{onClick:t[7]||(t[7]=o=>d.value>1&&F(d.value-1)),disabled:d.value===1,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Anterior ",8,dt),e("button",{onClick:t[8]||(t[8]=o=>d.value<v.value&&F(d.value+1)),disabled:d.value===v.value,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Próximo ",8,ut)]),e("div",ct,[e("div",null,[e("p",pt,[t[35]||(t[35]=y(" Mostrando ",-1)),e("span",mt,s((d.value-1)*K.value+1),1),t[36]||(t[36]=y(" até ",-1)),e("span",xt,s(Math.min(d.value*K.value,j.value)),1),t[37]||(t[37]=y(" de ",-1)),e("span",vt,s(j.value),1),t[38]||(t[38]=y(" resultados ",-1))])]),e("div",null,[e("nav",gt,[e("button",{onClick:t[9]||(t[9]=o=>d.value>1&&F(d.value-1)),disabled:d.value===1,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},[...t[39]||(t[39]=[e("span",{class:"sr-only"},"Anterior",-1),e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)])],8,bt),(n(!0),i(X,null,W(te(),o=>(n(),i("button",{key:o,onClick:a=>F(o),class:Z([o===d.value?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50","relative inline-flex items-center px-4 py-2 border text-sm font-medium"])},s(o),11,yt))),128)),e("button",{onClick:t[10]||(t[10]=o=>d.value<v.value&&F(d.value+1)),disabled:d.value===v.value,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},[...t[40]||(t[40]=[e("span",{class:"sr-only"},"Próximo",-1),e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)])],8,ft)])])])])):B("",!0)]),P.value?(n(),i("div",ht,[e("div",wt,[e("div",kt,[e("div",Ct,[e("h3",At,s(w.value?"Editar Produto":"Novo Produto"),1),e("button",{onClick:t[11]||(t[11]=o=>P.value=!1),class:"text-gray-400 hover:text-gray-600"},[...t[41]||(t[41]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("form",{onSubmit:be(ae,["prevent"]),class:"p-6"},[e("div",Et,[e("div",null,[t[43]||(t[43]=e("label",{for:"type",class:"block text-sm font-medium text-gray-700 mb-2"},"Tipo",-1)),x(e("select",{id:"type","onUpdate:modelValue":t[12]||(t[12]=o=>r.value.type=o),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...t[42]||(t[42]=[R('<option value="">Selecione o tipo</option><option value="PORTA">Porta</option><option value="JANELA">Janela</option><option value="SACADA">Sacada</option><option value="BASCULANTE">Basculante</option><option value="FIXO">Fixo</option>',6)])],512),[[Q,r.value.type]])]),e("div",null,[t[44]||(t[44]=e("label",{for:"sheets",class:"block text-sm font-medium text-gray-700 mb-2"},"Folhas",-1)),x(e("input",{id:"sheets","onUpdate:modelValue":t[13]||(t[13]=o=>r.value.sheets=o),type:"number",min:"0",step:"1",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ex: 2"},null,512),[[h,r.value.sheets,void 0,{number:!0}]])]),e("div",null,[t[45]||(t[45]=e("label",{for:"width",class:"block text-sm font-medium text-gray-700 mb-2"},"Largura (cm)",-1)),x(e("input",{id:"width","onUpdate:modelValue":t[14]||(t[14]=o=>r.value.width=o),type:"number",step:"0.01",min:"0",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00"},null,512),[[h,r.value.width,void 0,{number:!0}]])]),e("div",null,[t[46]||(t[46]=e("label",{for:"height",class:"block text-sm font-medium text-gray-700 mb-2"},"Altura (cm)",-1)),x(e("input",{id:"height","onUpdate:modelValue":t[15]||(t[15]=o=>r.value.height=o),type:"number",step:"0.01",min:"0",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00"},null,512),[[h,r.value.height,void 0,{number:!0}]])]),e("div",null,[t[48]||(t[48]=e("label",{for:"color",class:"block text-sm font-medium text-gray-700 mb-2"},"Cor",-1)),x(e("select",{id:"color","onUpdate:modelValue":t[16]||(t[16]=o=>r.value.color=o),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...t[47]||(t[47]=[R('<option value="">Selecione a cor</option><option value="INCOLOR">Incolor</option><option value="VERDE">Verde</option><option value="FUME">Fumê</option><option value="BRONZE">Bronze</option>',5)])],512),[[Q,r.value.color]])]),e("div",null,[t[49]||(t[49]=e("label",{for:"kit",class:"block text-sm font-medium text-gray-700 mb-2"},"Kit (R$)",-1)),x(e("input",{id:"kit","onUpdate:modelValue":t[17]||(t[17]=o=>b.value=o),onInput:ce,type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"R$ 0,00"},null,544),[[h,b.value]])]),e("div",null,[t[50]||(t[50]=e("label",{for:"weight",class:"block text-sm font-medium text-gray-700 mb-2"},"Peso (kg)",-1)),x(e("input",{id:"weight","onUpdate:modelValue":t[18]||(t[18]=o=>r.value.weight=o),type:"number",step:"0.01",min:"0",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00"},null,512),[[h,r.value.weight,void 0,{number:!0}]])])]),t[57]||(t[57]=R('<div class="mt-6 p-4 bg-blue-50 rounded-lg"><div class="flex items-center"><svg class="w-5 h-5 text-blue-500 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg><p class="text-sm text-blue-700"> O custo, preço e lucro serão calculados automaticamente com base nas configurações do sistema. </p></div></div>',1)),w.value&&r.value.price?(n(),i("div",Mt,[t[54]||(t[54]=e("h4",{class:"text-sm font-semibold text-green-800 mb-3 flex items-center"},[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})]),y(" Informações de Preço ")],-1)),e("div",Pt,[e("div",$t,[t[51]||(t[51]=e("div",{class:"text-xs text-gray-500 mb-1"},"Preço à Vista",-1)),e("div",jt,"R$ "+s(r.value.price.toFixed(2)),1)]),e("div",Ft,[t[52]||(t[52]=e("div",{class:"text-xs text-gray-500 mb-1"},"Preço Total 12x",-1)),e("div",Bt,"R$ "+s((r.value.price*1.2).toFixed(2)),1)]),e("div",Rt,[t[53]||(t[53]=e("div",{class:"text-xs text-gray-500 mb-1"},"Valor da Parcela",-1)),e("div",Vt,"12x R$ "+s((r.value.price*1.2/12).toFixed(2)),1)])]),t[55]||(t[55]=e("div",{class:"mt-3 text-xs text-gray-600 text-center"}," * Parcelamento com taxa de 20% aplicada sobre o preço à vista ",-1))])):B("",!0),e("div",zt,[e("button",{type:"button",onClick:t[19]||(t[19]=o=>P.value=!1),class:"px-6 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors"}," Cancelar "),e("button",{type:"submit",class:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors shadow-sm",disabled:z.value},[z.value?(n(),i("span",Lt,[...t[56]||(t[56]=[e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),y(" Salvando... ",-1)])])):(n(),i("span",Tt,s(w.value?"Atualizar":"Criar")+" Produto",1))],8,It)])],32)])])):B("",!0),V.value?(n(),i("div",Ut,[e("div",Nt,[e("div",Ot,[t[64]||(t[64]=e("div",{class:"flex items-center mb-4"},[e("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100"},[e("svg",{class:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})])])],-1)),e("div",St,[t[62]||(t[62]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"Confirmar Exclusão",-1)),e("p",Kt,[t[58]||(t[58]=y(" Tem certeza que deseja excluir este produto? ",-1)),t[59]||(t[59]=e("br",null,null,-1)),e("strong",Dt,s(C.value?.type)+" - "+s(C.value?.color),1),t[60]||(t[60]=e("br",null,null,-1)),t[61]||(t[61]=e("span",{class:"text-xs text-gray-500"},"Esta ação não pode ser desfeita.",-1))])]),e("div",qt,[e("button",{type:"button",onClick:t[20]||(t[20]=o=>V.value=!1),class:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",disabled:$.value}," Cancelar ",8,Zt),e("button",{type:"button",onClick:se,class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors shadow-sm",disabled:$.value},[$.value?(n(),i("span",Gt,[...t[63]||(t[63]=[e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),y(" Excluindo... ",-1)])])):(n(),i("span",Ht,"Excluir Produto"))],8,_t)])])])])):B("",!0)])]))}});export{lo as default};
